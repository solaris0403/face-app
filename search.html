<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="Pragma" content="no-cache">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="css/jquery-weui.min.css">
  <link rel="stylesheet" href="css/weui.min.css">
  <link type="text/css" rel="stylesheet" href="hui/css/hui.css" />
  <title></title>
</head>

<body>
  <div class="header">
    <div class="weui-search-bar" id="searchBar">
      <form class="weui-search-bar__form">
        <div class="weui-search-bar__box">
          <i class="weui-icon-search"></i>
          <input type="search" class="weui-search-bar__input" id="searchInput" placeholder="搜索" required="">
          <a href="javascript:" class="weui-icon-clear" id="searchClear"></a>
        </div>
        <label class="weui-search-bar__label" id="searchText">
				<i class="weui-icon-search"></i>
				<span>搜索</span>
			</label>
      </form>
      <a href="javascript:" class="weui-search-bar__cancel-btn" id="searchCancel">取消</a>
    </div>
  </div>
  <div class="space"></div>
  <div class="hui-wrap">
    <div id="refreshContainer" class="hui-refresh">
      <div class="hui-refresh-icon"></div>
      <div class="hui-refresh-content hui-list">
        <ul id="list"></ul>
      </div>
    </div>
  </div>
  <script src="js/jquery.min.js"></script>
  <!-- <script type="text/javascript" src="/zx_local_res/jssdk/cordova.js"></script>
<script type="text/javascript" src="/zx_local_res/jssdk/zx.js"></script> -->
  <script type="text/javascript" src="js/jquery-weui.min.js"></script>
  <script type="text/javascript" src="hui/js/hui.js"></script>
  <script src="hui/js/hui-refresh-load-more.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript" src="js/tony.js"></script>
  <script type="text/javascript">
    function fun(url) {
      url = "detail.html?url=" + url;
      window.location.href = encodeURI(url);
    }
    function clear() {
      // $("#list").empty();
      hui('#list').html('');
    }

    var result =
      '{"status":1,"data":{"list":[{"out_id":9726933,"image_url":"https:\/\/ws2.sinaimg.cn\/bmiddle\/9150e4e5gy1fc1s1ojeeqj206f06fdht.jpg"},{"out_id":5468661,"image_url":"https:\/\/ws2.sinaimg.cn\/bmiddle\/9150e4e5ly1fqrp4fbufaj201d01d3y9.jpg"},{"out_id":3125972,"image_url":"https:\/\/ws1.sinaimg.cn\/bmiddle\/9150e4e5ly1fdzcxxt494j2042046mxv.jpg"},{"out_id":9265097,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/9150e4e5ly1fd2e3kg87fg204602sglr.gif"},{"out_id":9377264,"image_url":"https:\/\/ws2.sinaimg.cn\/bmiddle\/6af89bc8gw1f8r2e01qx3j203f03ewea.jpg"},{"out_id":6451477,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/9150e4e5gy1frzg0lo20oj201s01sglf.jpg"},{"out_id":3014789,"image_url":"https:\/\/ws3.sinaimg.cn\/bmiddle\/9150e4e5ly1fqeyspytwtg202s014742.gif"},{"out_id":8251390,"image_url":"https:\/\/ws1.sinaimg.cn\/bmiddle\/9150e4e5ly1fpqr0ekq44j205f046aa5.jpg"},{"out_id":9367540,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/9150e4e5ly1fpqq7n5synj203c031mwy.jpg"},{"out_id":4284319,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/9150e4e5ly1fpqdblfdj9j201x02kdft.jpg"},{"out_id":9414734,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/9150e4e5ly1fo2zxfrnkrg201y02m0sq.gif"},{"out_id":6935706,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/9150e4e5ly1fllyyqa0gbg205k05kt9y.gif"},{"out_id":2912012,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/9150e4e5ly1fld95gvphtj204w04wjrl.jpg"},{"out_id":5551769,"image_url":"https:\/\/ws3.sinaimg.cn\/bmiddle\/9150e4e5ly1fl3oaqxv5qj202702bjrd.jpg"},{"out_id":6887262,"image_url":"https:\/\/ws1.sinaimg.cn\/bmiddle\/9150e4e5ly1fkwgmofsk8j202v02uaa6.jpg"},{"out_id":3643453,"image_url":"https:\/\/ws2.sinaimg.cn\/bmiddle\/9150e4e5ly1fkhkt8l60qg20f50dk77h.gif"},{"out_id":8848481,"image_url":"https:\/\/ws1.sinaimg.cn\/bmiddle\/9150e4e5ly1fk1zru7huug201z01zglf.gif"},{"out_id":2581972,"image_url":"https:\/\/ws1.sinaimg.cn\/bmiddle\/9150e4e5ly1fjqcbhzf2pj20ed0ed0t9.jpg"},{"out_id":4961417,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/9150e4e5ly1fih97gglslj20qo0f0aao.jpg"},{"out_id":2313103,"image_url":"https:\/\/ws3.sinaimg.cn\/bmiddle\/9150e4e5jw1fce928770bj20c80bv3zk.jpg"},{"out_id":6199170,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/9150e4e5gw1faqmbbyfy5g20140140si.gif"},{"out_id":7592704,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/6af89bc8gw1f8u6o8r9krj20k00k1my6.jpg"},{"out_id":4985389,"image_url":"https:\/\/ws2.sinaimg.cn\/bmiddle\/6af89bc8gw1f8u4kb22plg2028032gli.gif"},{"out_id":9726410,"image_url":"https:\/\/ws1.sinaimg.cn\/bmiddle\/9150e4e5gw1fa9achbjc4g203c03cdg2.gif"},{"out_id":9366939,"image_url":"https:\/\/ws2.sinaimg.cn\/bmiddle\/6af89bc8gw1f8sd4ihmnvj201b01nmwx.jpg"},{"out_id":9592725,"image_url":"https:\/\/ws1.sinaimg.cn\/bmiddle\/6af89bc8gw1f8qpyk05s4j202502da9v.jpg"},{"out_id":8407656,"image_url":"https:\/\/ws1.sinaimg.cn\/bmiddle\/6af89bc8gw1f8qhr8yiubj2039038web.jpg"},{"out_id":5964137,"image_url":"https:\/\/ws2.sinaimg.cn\/bmiddle\/6af89bc8gw1f8q4gja2zog201w01wq3e.gif"},{"out_id":2489134,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/9150e4e5ly1fs3fn5xv3qj206w06uglv.jpg"},{"out_id":3458772,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/9150e4e5ly1frvdl1m6ltg2028028jr8.gif"},{"out_id":7280840,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/9150e4e5ly1fqxgau2wp4g208c0827bp.gif"},{"out_id":2514304,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/9150e4e5gy1fqabav8g8sj201o01e0jp.jpg"},{"out_id":5635941,"image_url":"https:\/\/ws3.sinaimg.cn\/bmiddle\/9150e4e5ly1fnrep66m5hg206o06o0vj.gif"},{"out_id":5290139,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/9150e4e5ly1fnreoulw21g2046046aah.gif"},{"out_id":6338428,"image_url":"https:\/\/ws3.sinaimg.cn\/bmiddle\/9150e4e5ly1fnp9fvhkuxg201k01kq2r.gif"},{"out_id":5012492,"image_url":"https:\/\/ws4.sinaimg.cn\/bmiddle\/9150e4e5ly1fleeya5qalj202f02dq2p.jpg"}],"more":1}}';

    //当前page,default 1
    var page = 1;
    var keyword;
    hui.loadMore(loadData);

    function loadData() {
      console.log("keyword" + keyword + "loadData:" + page);
      var obj = JSON.parse(result);
      if (obj == null) {
        hui.endLoadMore(true, '已经到头了...');
        return false;
      } else {
        var status = obj["status"];
        var data = obj["data"];
        var list = data["list"];
        var more = data["more"];
        if (page == 1) {
          clear();
        }
        for (var i = 0; i < list.length; i++) {
          var out_id = list[i]["out_id"];
          var image_url = list[i]["image_url"];
          var li = document.createElement('li');
          li.innerHTML = '<img id="img" src=' + image_url + ' onclick="javascript:fun(this.src);">';
          hui(li).appendTo('#list');
        }
        page++;
        hui.endLoadMore();
        hui.resetLoadMore();
      }
    }

    $(document).ready(function() {
      var height = $(".header").outerHeight(true);
      $(".space").height(height);
      loadData();
    });

    // hui.refresh('#refreshContainer', refresh);

    // var app = {
    // // Application Constructor
    // 	initialize: function() {
    // 			this.bindEvents();
    // 	},
    //
    // 	// Bind Event Listeners
    // 	//
    // 	// Bind any events that are required on startup. Common events are:
    // 	// 'load', 'deviceready', 'offline', and 'online'.
    // 	bindEvents: function() {
    // 			document.addEventListener('deviceready', this.onDeviceReady, false);
    // 	},
    //
    // 	// deviceready Event Handler
    // 	//
    // 	// The scope of 'this' is the event. In order to call the 'receivedEvent'
    // 	// function, we must explicitly call 'app.receivedEvent(...);'
    // 	onDeviceReady: function() {
    // 			// alert("onDeviceReady ua="+navigator.userAgent);
    // 			$('.wrapper').navbarscroll({
    // 					endClickScroll: function(obj) {
    // 						navClick(obj);
    // 					}
    // 			});
    // 		}
    // 	};
    // app.initialize();
  </script>
</body>

</html>
